note *
note * This build file is in the Make Abstract Machine (MAM) language. It was
note * first generated by nmake, but in the ksh 93u+m distribution we maintain
note * it manually because nmake had too many problems to keep using. The
note * Mamfiles are processed by mamake (src/cmd/INIT/mamake.c); we added
note * indentation to improve readability. The language is documented in
note * src/cmd/INIT/README-mamake.md.
note *
setv MAMAKE_STRICT
setv INSTALLROOT ../../..
setv PACKAGE_ast_INCLUDE ${INSTALLROOT}/include/ast
setv PACKAGEROOT ../../../../..
setv AR ${mam_cc_AR} ${mam_cc_AR_ARFLAGS}
setv CC cc
setv mam_cc_FLAGS
setv CCFLAGS ${-debug-symbols?1?${mam_cc_DEBUG} -D_BLD_DEBUG?${mam_cc_OPTIMIZE}?}
setv CCLDFLAGS ${-strip-symbols?1?${mam_cc_LD_STRIP}??}
setv IFFEFLAGS
setv LDFLAGS
setv SH_DICT \"libshell\"
make install virtual
	make ksh
		bind -ldll
		bind -lcmd
		bind -last
		bind -lm dontcare
		bind -lnsl dontcare
		make shell.req
			prev ${INSTALLROOT}/bin/mkreq
			exec - mkreq ${CC} ${mam_cc_FLAGS} ${CCFLAGS} : ${LDFLAGS} : shell dll cmd ast m jobs i socket nsl secdb network
		done
		make shopt.h notrace implicit
			make FEATURE/options implicit
				prev features/options
				prev shell.req
				exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/options
			done
			prev SHOPT.sh
			prev Mamfile
			note *
			note * the SHOPT.sh file calls the SHOPT function once for each option
			note *
			exec -	writedef()
			exec -	{
			exec -		echo "${3:-#ifndef SHOPT_$1}"
			exec -		echo "#   define SHOPT_$1	$2"
			exec -		echo "#endif"
			exec -		echo
			exec -	}
			exec -
			exec -	SHOPT()
			exec -	{
			exec -		n=${1%%=*}	# name
			exec -		v=${1#*=}	# value
			exec -		# probe certain options if they don't have a value configured
			exec -		case $1 in
			exec -		'MULTIBYTE=')
			exec -			# by default, SHOPT_MULTIBYTE is the opposite of AST_NOMULTIBYE
			exec -			writedef MULTIBYTE 1 '#if !defined(SHOPT_MULTIBYTE) && !AST_NOMULTIBYTE' ;;
			exec -		'DEVFD=')
			exec -			# if /dev/fd/n exposes file descriptor n, make SHOPT_DEVFD use this for
			exec -			# process substitutions instead of FIFOs, which are not as secure
			exec -			# WARNING: do not use 'test -e' for this test (too many shells break it
			exec -			# by failing to test for the physical existence of /dev/fd/9 in the FS)
			exec -			ls -d /dev/fd/9 9<&0 >/dev/null 2>&1 && writedef DEVFD 1 ;;
			exec -		'TEST_L=')
			exec -			# if external 'test' supports lowercase -l as equivalent to -L, enable
			exec -			# SHOPT_TEST_L so ksh supports it for compatibility with local scripts
			exec -			${STDLN} -s /dev/null "$EXECROOT/link$$"
			exec -			if	env test -l "$EXECROOT/link$$" && env test ! -l .
			exec -			then	writedef TEST_L 1
			exec -			fi 2>/dev/null
			exec -			${STDRM} -f "$EXECROOT/link$$" ;;
			exec -		'SYSRC=')
			exec -			# if one of these exists, make SHOPT_SYSRC load /etc/ksh.kshrc by default
			exec -			if	test -f /etc/ksh.kshrc || test -f /etc/bash.bashrc
			exec -			then	writedef SYSRC 1
			exec -			fi ;;
			exec -		# some other SHOPTs may be probed for using feature tests in features/options
			exec -		*=?*)
			exec -			writedef "$n" "$v" ;;
			exec -		esac
			exec -		echo "* SHOPT_$n = ${v:-(probe)}" >&2  # show in make.out
			exec -	}
			exec -
			exec -	exec >shopt.h
			exec -	echo '/* Generated from ksh93/SHOPT.sh by ksh93/Mamfile */'
			exec -	echo
			exec -	. "$PACKAGEROOT/src/cmd/ksh93/SHOPT.sh"
			exec -	${STDCAT} <<-EOF
			exec -		#include "FEATURE/options"
			exec -
			exec -		/* overrides */
			exec -		#if SHOPT_SCRIPTONLY
			exec -		#   undef SHOPT_ACCT
			exec -		#   undef SHOPT_AUDIT
			exec -		#   undef SHOPT_ESH
			exec -		#   undef SHOPT_HISTEXPAND
			exec -		#   undef SHOPT_SYSRC
			exec -		#   undef SHOPT_VSH
			exec -		#endif
			exec -		#if !_sys_acct
			exec -		#   undef SHOPT_ACCT
			exec -		#endif
			exec -	EOF
		done shopt.h
		make pmain.o
			make sh/pmain.c
				make FEATURE/externs implicit
					prev features/externs
					exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/externs
				done
				make include/shell.h implicit
					make include/fault.h implicit
						make FEATURE/sigfeatures implicit
							prev features/sigfeatures
							exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/sigfeatures
						done
					done
					prev include/history.h implicit
					prev include/nval.h implicit
					make include/name.h implicit
						prev include/nval.h
					done
				done
				prev shopt.h
			done
			exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/pmain.c
		done pmain.o
		make libshell.a
			prev shell.req
			make alarm.o
				make bltins/alarm.c
					make FEATURE/time implicit
						prev features/time
						exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/time
					done
					make include/builtins.h implicit
						prev include/shtable.h implicit
						make FEATURE/dynamic implicit
							prev features/dynamic
							exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/dynamic
						done
					done
					make include/defs.h implicit
						prev include/regress.h implicit
						prev include/shtable.h
						prev include/shell.h
						prev include/name.h
						prev include/argnod.h implicit
						prev FEATURE/externs
					done
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/alarm.c
			done
			make cd_pwd.o
				make bltins/cd_pwd.c
					make include/test.h implicit
						prev include/shtable.h
						prev include/defs.h
					done
					prev include/builtins.h
					prev include/name.h
					make include/path.h implicit
						prev include/defs.h
						prev include/nval.h
					done
					make include/variables.h implicit
						prev FEATURE/dynamic
						prev include/nval.h
					done
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/cd_pwd.c
			done
			make cflow.o
				make bltins/cflow.c
					prev include/builtins.h
					make include/shnodes.h implicit
						prev include/argnod.h
					done
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/cflow.c
			done
			make deparse.o
				make sh/deparse.c
					prev include/test.h
					prev include/shnodes.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/deparse.c
			done
			make enum.o
				make bltins/enum.c
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -DERROR_CATALOG=${SH_DICT} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/enum.c
			done
			make getopts.o
				make bltins/getopts.c
					prev include/builtins.h
					prev include/nval.h
					prev include/variables.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/getopts.c
			done
			make hist.o
				make bltins/hist.c
					make include/edit.h implicit
						prev include/national.h implicit
						make include/terminal.h implicit
							make FEATURE/ttys implicit
								prev features/ttys
								exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/ttys
							done
						done
						make FEATURE/locale implicit
							prev features/locale
							exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/locale
						done
						make FEATURE/cmds implicit
							prev features/cmds
							exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/cmds
						done
					done
					prev include/builtins.h
					prev include/history.h
					prev include/name.h
					prev include/io.h implicit
					prev include/variables.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/hist.c
			done
			make misc.o
				make bltins/misc.c
					prev FEATURE/time
					prev FEATURE/locale
					make include/jobs.h implicit
						prev include/terminal.h
					done
					prev include/builtins.h
					prev include/history.h
					prev include/name.h
					prev include/io.h
					prev include/path.h
					prev include/shnodes.h
					prev include/variables.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/misc.c
			done
			make mkservice.o
				make bltins/mkservice.c
					prev include/nval.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -DSH_DICT=${SH_DICT} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/mkservice.c
			done
			make print.o
				make bltins/print.c
					make include/streval.h implicit
						prev include/defs.h
					done
					prev include/builtins.h
					prev include/history.h
					prev include/name.h
					prev include/io.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/print.c
			done
			make read.o
				make bltins/read.c
					prev include/edit.h
					prev include/terminal.h
					prev include/history.h
					prev include/builtins.h
					prev include/name.h
					prev include/io.h
					make include/lexstates.h implicit
						prev FEATURE/locale
					done
					prev include/variables.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/read.c
			done
			make sleep.o
				make bltins/sleep.c
					make FEATURE/poll implicit
						prev features/poll
						exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/poll
					done
					prev FEATURE/time
					prev include/builtins.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/sleep.c
			done
			make trap.o
				make bltins/trap.c
					prev include/builtins.h
					prev include/jobs.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/trap.c
			done
			make test.o
				make bltins/test.c
					prev FEATURE/poll
					prev FEATURE/externs
					prev include/builtins.h
					prev include/test.h
					prev include/terminal.h
					prev include/io.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/test.c
			done
			make typeset.o
				make bltins/typeset.c
					prev FEATURE/dynamic
					prev include/variables.h
					prev include/builtins.h
					prev include/history.h
					prev include/name.h
					prev include/path.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/typeset.c
			done
			make ulimit.o
				make bltins/ulimit.c
					make include/ulimit.h implicit
						make FEATURE/rlimits implicit
							prev features/rlimits
							exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/rlimits
						done
						prev FEATURE/time
					done
					prev include/name.h
					prev include/builtins.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/ulimit.c
			done
			make umask.o
				make bltins/umask.c
					prev include/builtins.h
					prev include/shell.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/umask.c
			done
			make whence.o
				make bltins/whence.c
					prev include/builtins.h
					make include/shlex.h implicit
						prev include/lexstates.h
						prev include/shtable.h
						prev include/shnodes.h
					done
					prev include/path.h
					prev include/name.h
					prev include/shtable.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/whence.c
			done
			make main.o
				make sh/main.c
					prev FEATURE/externs
					prev FEATURE/time
					prev include/timeout.h implicit
					prev include/history.h
					prev include/shnodes.h
					prev include/shlex.h
					prev include/jobs.h
					prev include/io.h
					prev include/path.h
					prev include/variables.h
					prev include/defs.h
					prev include/fcin.h implicit
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${-debug-symbols?1?${mam_cc_DEBUG} -D_BLD_DEBUG?${CCFLAGS.FORCE}?} ${DEBUG+-DDEBUG=${DEBUG}} -DSH_DICT=${SH_DICT} ${SH_CMDLIB_DIR+-DSH_CMDLIB_DIR=${SH_CMDLIB_DIR}} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/main.c
			done
			make nvdisc.o
				make sh/nvdisc.c
					prev include/shlex.h
					prev include/io.h
					prev include/path.h
					prev include/builtins.h
					prev include/variables.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/nvdisc.c
			done
			make nvtype.o
				make sh/nvtype.c
					prev include/builtins.h
					prev include/variables.h
					prev include/io.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -DSH_DICT=${SH_DICT} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/nvtype.c
			done
			make arith.o
				make sh/arith.c
					prev include/builtins.h
					prev include/variables.h
					prev include/streval.h
					prev include/name.h
					prev include/lexstates.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/arith.c
			done
			make args.o
				make sh/args.c
					prev include/io.h
					prev include/shlex.h
					prev FEATURE/poll
					prev include/edit.h
					prev include/terminal.h
					prev include/builtins.h
					prev include/jobs.h
					prev include/path.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/args.c
			done
			make array.o
				make sh/array.c
					prev include/name.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/array.c
			done
			make completion.o
				make edit/completion.c
					prev include/history.h
					prev include/edit.h
					prev include/io.h
					prev include/path.h
					prev include/lexstates.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c edit/completion.c
			done
			make defs.o
				make sh/defs.c
					prev include/timeout.h
					prev include/edit.h
					prev include/shlex.h
					prev include/jobs.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/defs.c
			done
			make edit.o
				make edit/edit.c
					prev include/shlex.h
					prev include/edit.h
					prev include/history.h
					prev include/terminal.h
					prev include/io.h
					prev include/variables.h
					prev include/defs.h
					prev FEATURE/time
					prev include/fault.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c edit/edit.c
			done
			make expand.o
				make sh/expand.c
					prev include/path.h
					prev include/io.h
					prev include/test.h
					prev include/variables.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/expand.c
			done
			make regress.o
				make bltins/regress.c
					prev include/builtins.h
					prev include/io.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -DSH_DICT=${SH_DICT} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c bltins/regress.c
			done
			make fault.o
				make sh/fault.c
					prev include/ulimit.h
					prev include/builtins.h
					prev include/path.h
					prev include/jobs.h
					prev include/variables.h
					prev include/shlex.h
					prev include/history.h
					prev include/io.h
					prev include/fcin.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/fault.c
			done
			make fcin.o
				make sh/fcin.c
					prev include/fcin.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/fcin.c
			done
			make history.o
				make edit/history.c
					prev include/history.h
					prev include/io.h
					prev include/builtins.h
					prev include/path.h
					prev include/variables.h
					prev include/defs.h
					prev FEATURE/time
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c edit/history.c
			done
			make init.o
				make sh/init.c
					prev include/version.h implicit
					prev include/lexstates.h
					prev FEATURE/externs
					prev FEATURE/dynamic
					prev FEATURE/time
					prev include/builtins.h
					prev include/shlex.h
					prev include/io.h
					prev include/jobs.h
					prev include/edit.h
					prev include/name.h
					prev include/fault.h
					prev include/path.h
					prev include/variables.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/init.c
			done
			make io.o
				make sh/io.c
					prev FEATURE/poll
					prev FEATURE/dynamic
					prev FEATURE/externs
					prev include/timeout.h
					prev include/edit.h
					prev include/history.h
					prev include/shnodes.h
					prev include/shlex.h
					prev include/jobs.h
					prev include/io.h
					prev include/path.h
					prev include/variables.h
					prev include/fcin.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/io.c
			done
			make jobs.o
				make sh/jobs.c
					prev include/history.h
					prev include/jobs.h
					prev include/io.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/jobs.c
			done
			make lex.o
				make sh/lex.c
					prev include/shlex.h
					prev include/io.h
					prev include/lexstates.h
					prev include/test.h
					prev include/argnod.h
					prev include/shell.h
					prev include/defs.h
					prev include/nval.h
					prev include/fcin.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/lex.c
			done
			make macro.o
				make sh/macro.c
					prev include/streval.h
					prev include/national.h
					prev include/path.h
					prev include/shnodes.h
					prev include/jobs.h
					prev include/io.h
					prev include/shlex.h
					prev include/variables.h
					prev include/name.h
					prev include/fcin.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/macro.c
			done
			make name.o
				make sh/name.c
					prev include/builtins.h
					prev include/shnodes.h
					prev include/streval.h
					prev FEATURE/externs
					prev include/timeout.h
					prev include/lexstates.h
					prev include/path.h
					prev include/variables.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/name.c
			done
			make nvtree.o
				make sh/nvtree.c
					prev include/lexstates.h
					prev include/argnod.h
					prev include/name.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/nvtree.c
			done
			make parse.o
				make sh/parse.c
					prev include/path.h
					prev include/test.h
					prev include/builtins.h
					prev include/history.h
					prev include/shlex.h
					prev include/fcin.h
					prev include/shell.h
					prev include/defs.h
					prev include/version.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/parse.c
			done
			make path.o
				make sh/path.c
					prev FEATURE/time
					prev FEATURE/dynamic
					prev include/test.h
					prev include/history.h
					prev include/jobs.h
					prev include/io.h
					prev include/path.h
					prev include/variables.h
					prev include/nval.h
					prev include/fcin.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/path.c
			done
			make string.o
				make sh/string.c
					prev include/national.h
					prev include/lexstates.h
					prev include/shtable.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/string.c
			done
			make streval.o
				make sh/streval.c
					prev FEATURE/externs
					prev include/streval.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/streval.c
			done
			make subshell.o
				make sh/subshell.c
					prev include/path.h
					prev include/variables.h
					prev include/jobs.h
					prev include/shlex.h
					prev include/shnodes.h
					prev include/fault.h
					prev include/io.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/subshell.c
			done
			make tdump.o
				make sh/tdump.c
					prev include/io.h
					prev include/path.h
					prev include/shnodes.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/tdump.c
			done
			make timers.o
				make sh/timers.c
					prev FEATURE/time
					prev FEATURE/sigfeatures
					prev include/defs.h
					prev include/fault.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/timers.c
			done
			make trestore.o
				make sh/trestore.c
					prev include/io.h
					prev include/path.h
					prev include/shnodes.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${-debug-symbols?1?${mam_cc_DEBUG} -D_BLD_DEBUG?${CCFLAGS.FORCE}?} ${SH_CMDLIB_DIR+-DSH_CMDLIB_DIR=${SH_CMDLIB_DIR}} -DSH_DICT=${SH_DICT} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/trestore.c
			done
			make waitevent.o
				make sh/waitevent.c
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/waitevent.c
			done
			make xec.o
				make sh/xec.c
					prev include/streval.h
					prev FEATURE/locale
					prev FEATURE/externs
					prev FEATURE/time
					prev include/builtins.h
					prev include/test.h
					prev include/jobs.h
					prev include/shnodes.h
					prev include/io.h
					prev include/name.h
					prev include/path.h
					prev include/variables.h
					prev include/fcin.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/xec.c
			done
			make limits.o
				make data/limits.c
					prev include/ulimit.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -c data/limits.c
			done
			make msg.o
				make data/msg.c
					prev include/edit.h
					prev include/jobs.h
					prev include/builtins.h
					prev include/history.h
					prev include/timeout.h
					prev include/shlex.h
					prev include/io.h
					prev include/path.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c data/msg.c
			done
			make strdata.o
				make data/strdata.c
					make FEATURE/math implicit
						make features/math.sh
							prev data/math.tab implicit
						done
						exec - iffe ${IFFEFLAGS} -v -c "${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS}" ref ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -I${PACKAGE_ast_INCLUDE} -I${INSTALLROOT}/include ${mam_libdll} ${mam_libcmd} ${mam_libast} ${mam_libm} ${mam_libnsl} : run features/math.sh ${PACKAGEROOT}/src/cmd/ksh93/data/math.tab
						make ${INSTALLROOT}/src/lib/libast/FEATURE/float implicit
							prev ${INSTALLROOT}/src/lib/libast/FEATURE/standards implicit
						done
					done
					prev include/streval.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} ${-debug-symbols?1?${mam_cc_DEBUG} -D_BLD_DEBUG?${CCFLAGS.FORCE}?} ${SH_CMDLIB_DIR+-DSH_CMDLIB_DIR=${SH_CMDLIB_DIR}} -DSH_DICT=${SH_DICT} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c data/strdata.c
			done
			make testops.o
				make data/testops.c
					prev include/test.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -DSH_DICT=${SH_DICT} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c data/testops.c
			done
			make keywords.o
				make data/keywords.c
					prev include/shlex.h
					prev include/shell.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c data/keywords.c
			done
			make options.o
				make data/options.c
					prev include/shtable.h
					prev include/name.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c data/options.c
			done
			make signals.o
				make data/signals.c
					prev include/jobs.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c data/signals.c
			done
			make aliases.o
				make data/aliases.c
					prev FEATURE/dynamic
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c data/aliases.c
			done
			make builtins.o
				make data/builtins.c
					prev FEATURE/poll
					prev FEATURE/cmds
					prev include/jobs.h
					prev include/builtins.h
					prev include/version.h
					prev include/name.h
					prev include/ulimit.h
					prev include/shtable.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -DSH_DICT=${SH_DICT} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c data/builtins.c
			done
			make variables.o
				make data/variables.c
					prev include/builtins.h
					prev include/variables.h
					prev include/defs.h
					prev include/name.h
					prev include/shtable.h
					prev include/shell.h
					prev FEATURE/dynamic
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c data/variables.c
			done
			make lexstates.o
				make data/lexstates.c
					prev include/lexstates.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -c data/lexstates.c
			done
			make emacs.o
				make edit/emacs.c
					prev include/terminal.h
					prev include/edit.h
					prev include/history.h
					prev include/io.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c edit/emacs.c
			done
			make vi.o
				make edit/vi.c
					prev include/lexstates.h
					prev FEATURE/time
					prev include/terminal.h
					prev include/edit.h
					prev include/history.h
					prev include/io.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c edit/vi.c
			done
			make hexpand.o
				make edit/hexpand.c
					prev include/edit.h
					prev include/defs.h
					prev shopt.h
				done
				exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c edit/hexpand.c
			done
			exec - ${AR} rc libshell.a alarm.o cd_pwd.o cflow.o deparse.o enum.o getopts.o hist.o misc.o mkservice.o print.o read.o sleep.o trap.o test.o typeset.o ulimit.o umask.o whence.o main.o nvdisc.o nvtype.o arith.o args.o array.o completion.o defs.o edit.o expand.o regress.o fault.o fcin.o
			exec - ${AR} rc libshell.a history.o init.o io.o jobs.o lex.o macro.o name.o nvtree.o parse.o path.o string.o streval.o subshell.o tdump.o timers.o trestore.o waitevent.o xec.o limits.o msg.o strdata.o testops.o keywords.o options.o signals.o aliases.o builtins.o variables.o lexstates.o emacs.o vi.o hexpand.o
			exec - (ranlib libshell.a) >/dev/null 2>&1 || true
		done libshell.a
		bind -lshell
		exec - ${CC} ${CCLDFLAGS} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS} ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -o ksh pmain.o ${mam_libshell} ${mam_libnsl} ${mam_libast} ${mam_libm}
	done ksh
	make shcomp
		make shcomp.o
			make sh/shcomp.c
				prev include/terminal.h
				prev include/shnodes.h
				prev include/path.h
				prev include/defs.h
				prev include/shell.h
				prev include/version.h
				prev shopt.h
			done
			exec - ${CC} ${mam_cc_FLAGS} ${CCFLAGS} -I. -Iinclude -I${PACKAGE_ast_INCLUDE} -DSH_DICT=${SH_DICT} -D_API_ast=20100309 -DERROR_CONTEXT_T=Error_context_t -c sh/shcomp.c
		done
		prev ksh
		exec - ${CC} ${CCLDFLAGS} ${mam_cc_FLAGS} ${CCFLAGS} ${LDFLAGS} ${mam_cc_L+-L.} ${mam_cc_L+-L${INSTALLROOT}/lib} -o shcomp shcomp.o ${mam_libshell} ${mam_libnsl} ${mam_libast} ${mam_libm}
	done shcomp
	make shell virtual
		prev libshell.a
	done
	prev libshell.a
	make ${INSTALLROOT}/bin
		exec - mkdir -p ${INSTALLROOT}/bin
	done
	make ${INSTALLROOT}/bin/ksh
		prev ksh
		note * macOS throws code signature error if 'cp' overwrites Mach-O binary; must remove first
		exec - ${STDRM} -f ${INSTALLROOT}/bin/ksh &&
		exec - ${STDCP} ksh ${INSTALLROOT}/bin/ksh
	done
	make ${INSTALLROOT}/man/man1
		exec - mkdir -p ${INSTALLROOT}/man/man1
	done
	make ${INSTALLROOT}/man/man1/sh.1
		prev sh.1
		exec - ${STDCP} -f sh.1 ${INSTALLROOT}/man/man1/sh.1
	done
	make ${INSTALLROOT}/lib
		exec - mkdir -p ${INSTALLROOT}/lib
	done
	make ${INSTALLROOT}/lib/libshell.a
		prev libshell.a
		exec - ${STDCP} -f libshell.a ${INSTALLROOT}/lib/libshell.a
		exec - (ranlib ${INSTALLROOT}/lib/libshell.a) >/dev/null 2>&1 || true
	done
	make ${INSTALLROOT}/man/man3
		exec - mkdir -p ${INSTALLROOT}/man/man3
	done
	make ${INSTALLROOT}/man/man3/shell.3
		prev shell.3
		exec - ${STDCP} -f shell.3 ${INSTALLROOT}/man/man3/shell.3
	done
	make ${INSTALLROOT}/man/man3/nval.3
		prev nval.3
		exec - ${STDCP} -f nval.3 ${INSTALLROOT}/man/man3/nval.3
	done
	make ${INSTALLROOT}/lib/lib
		exec - mkdir -p ${INSTALLROOT}/lib/lib
	done
	make ${INSTALLROOT}/lib/lib/shell
		prev shell.req
		exec - ${STDCP} -f shell.req ${INSTALLROOT}/lib/lib/shell
	done
	make ${PACKAGE_ast_INCLUDE}/nval.h
		prev include/nval.h
		exec - ${STDCP} -f include/nval.h ${PACKAGE_ast_INCLUDE}/nval.h
	done
	make ${PACKAGE_ast_INCLUDE}/shell.h
		prev include/shell.h
		exec - ${STDCP} -f include/shell.h ${PACKAGE_ast_INCLUDE}/shell.h
	done
	make ${PACKAGE_ast_INCLUDE}/history.h
		prev include/history.h
		exec - ${STDCP} -f include/history.h ${PACKAGE_ast_INCLUDE}/history.h
	done
	make ${INSTALLROOT}/bin/shcomp
		prev shcomp
		note * macOS throws code signature error if 'cp' overwrites Mach-O binary; must remove first
		exec - ${STDRM} -f ${INSTALLROOT}/bin/shcomp &&
		exec - ${STDCP} shcomp ${INSTALLROOT}/bin/shcomp
	done
	make ${INSTALLROOT}/fun
		exec - mkdir -p ${INSTALLROOT}/fun
	done
	make ${INSTALLROOT}/fun/autocd
		prev fun/autocd
		exec - ${STDCP} -f fun/autocd ${INSTALLROOT}/fun/autocd && ${STDCHMOD} ugo+x ${INSTALLROOT}/fun/autocd
	done
	make ${INSTALLROOT}/fun/cd
		prev fun/cd
		exec - ${STDCP} -f fun/cd ${INSTALLROOT}/fun/cd && ${STDCHMOD} ugo+x ${INSTALLROOT}/fun/cd
	done
	make ${INSTALLROOT}/fun/dirs
		prev fun/dirs
		exec - ${STDCP} -f fun/dirs ${INSTALLROOT}/fun/dirs && ${STDCHMOD} ugo+x ${INSTALLROOT}/fun/dirs
	done
	make ${INSTALLROOT}/fun/man
		prev fun/man
		exec - ${STDCP} -f fun/man ${INSTALLROOT}/fun/man && ${STDCHMOD} ugo+x ${INSTALLROOT}/fun/man
	done
	make ${INSTALLROOT}/fun/mcd
		prev fun/mcd
		exec - ${STDCP} -f fun/mcd ${INSTALLROOT}/fun/mcd && ${STDCHMOD} ugo+x ${INSTALLROOT}/fun/mcd
	done
	make ${INSTALLROOT}/fun/popd
		prev fun/popd
		exec - ${STDCP} -f fun/popd ${INSTALLROOT}/fun/popd && ${STDCHMOD} ugo+x ${INSTALLROOT}/fun/popd
	done
	make ${INSTALLROOT}/fun/pushd
		prev fun/pushd
		exec - ${STDCP} -f fun/pushd ${INSTALLROOT}/fun/pushd && ${STDCHMOD} ugo+x ${INSTALLROOT}/fun/pushd
	done
	make announce_build_done notrace virtual
		prev ksh
		exec - ksh -c 'print \# KornShell $KSH_VERSION '
		exec - echo "# Type 'bin/package use' to try it out"
	done
done install
make test dontcare virtual
	make test.ksh virtual
		prev tests/shtests
		exec - cd "$PACKAGEROOT/src/cmd/ksh93/tests"
		exec - exec "$SHELL" shtests
	done
done test
